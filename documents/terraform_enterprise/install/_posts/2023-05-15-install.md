---
title: Install
permalink: /documents/terraform_enterprise/install/
---

## 1. Prerequisites

* [Docker Engine](https://kim-dongoh.github.io/documents/docker/install/)
* Terraform Enterprise License
* `.airgap` 파일 (폐쇄망에 Terraform Enterprise를 구축할 경우)
* [Installer Bootstrapper 파일](https://install.terraform.io/airgap/latest.tar.gz)



## 2. Install

Terraform Enterprise 구축 방법으로는 아래 두 가지 방식이 존재

* Online 환경에 구축
* 폐쇄망 환경(Airgapped)에 구축

### 2.1. Online

### 2.2. Airgapped

폐쇄망 환경에 Terraform Enterprise 구축

#### 2.2.1. Installer Bootstrapper

1. [Installer Bootstrapper 파일](https://install.terraform.io/airgap/latest.tar.gz)을 설치할 directory 생성

   ```bash
   mkdir ~/tfe-installer
   ```

2. Installer Bootstrapper 파일을 해당  Directory에 Download
   ```bash
   cd ~/tfe-installer
   ```

   ```bash
   wget https://install.terraform.io/airgap/latest.tar.gz
   ```

   * 폐쇄망의 경우 `scp` 명령어등을 이용

3. `tar.gz` 파일 압축 해제

   ```bash
   tar xvf latest.tar.gz
   ```


4. `install.sh` 스크립트 airgap 모드로 실행

   ```bash
   sudo ./install.sh airgap
   ```

   ```
   Determining local address
   The installer was unable to automatically detect the private IP address of this machine.
   Please choose one of the following network interfaces:
   [0] eth0 	172.31.52.99
   [1] docker0	172.17.0.1
   Enter desired number (0-1):
   ```

   * Host의 Network Interface인 0번 선택

5. Install 정상 완료 시, 아래와 같은 화면이 출력
   ```
   Operator installation successful
   
   SELinux is enforcing. Running docker with the "--selinux-enabled" flag may cause some features to become unavailable.
   
   To continue the installation, visit the following URL in your browser:
   
     http://<this_server_address>:8800
   
   To create an alias for the replicated cli command run the following in your current shell or log out and log back in:
   
     source /etc/replicated.alias
   ```

#### 2.2.2. Installation in Browser

1. Key 파일 및 Cert 파일 추가
   ![Screenshot-4201060](https://hognod.synology.me:5543/2023/05/16/Screenshot-4201060.png)
